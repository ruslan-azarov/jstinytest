<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script src="../tinytest.js"></script>
  <script>
    // Example 1:
    // forEach([1,2,3], function () {
    //   console.log('hi');
    // });

    // Example 2:
    // forEach([1,2,3], function (num) {
    //   console.log(num);
    // })

    //Example 3:
    // forEach([1,2,3], function (num, index) {
    //   console.log(index)
    // })

    //Example 4: The array forEach() was called upon.
    // forEach([1,2,3], function (num, index, originalArray) {
    //   console.log(originalArray)
    // })

    function forEach(array, callback, optionalThisObject) {
      var forEachCallback = callback;

      if (optionalThisObject) {
        forEachCallback = callback.bind(optionalThisObject);
      }

      for (var i = 0; i < array.length; i++) {
        forEachCallback(array[i], i, array);
      }
    }

    tests({
      'It should run the callback function array.length times.': function() {
        var counter = 0;
        forEach([1,2,3], function() {
          counter++;
        });
        eq(counter, 3);
      },
      'It should pass in the ith element as the first argument to the callback.': function() {
        forEach([1], function(num) {
          eq(num, 1);
        });
      },
      'It should pass in ith position as the second argument to the callback.': function() {
        forEach([1], function(num, index) {
          eq(index, 0);
        }); 
      },
      'It should pass in the original array as the third argument to the callback.': function() {
        var array = [];
        forEach(array, function (num, index, originalArray) {
          eq(originalArray, array);
        });
      },
      'It should accept a configurableThisObject': function() {
        forEach([1], function() {
        eq(this.description, 'I should be accessible inside of the callback.');
        }, {description: 'I should be accessible inside of the callback.'});
      }
    });
  </script>
</body>
</html>